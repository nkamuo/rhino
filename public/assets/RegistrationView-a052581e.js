import{L}from"./logo-16664350.js";import{p as z,ag as D,ah as $,c as H,q as K,ai as M,aj as W,h as X,l as Z,ak as G,al as I,j as e,x as U,T as J,a2 as O,am as Q,an as Y,ao as ee,r as C,ap as ae,aq as le,U as k,W as R,X as a,a5 as te,ab as se,F as oe,$ as T,a0 as y,ac as re,K as de,ad as ne,Z as i,ae as ue,ar as c,a1 as P,as as ie,V as v,_ as F,at as me,aa as ce}from"./index-792b7300.js";import{V as g}from"./VRow-0d652b6c.js";import{V as o}from"./VCol-6b418aff.js";import{V as pe}from"./VContainer-e9b861e8.js";import{V as fe}from"./VForm-b32d5c63.js";import{m as Ve,V as E}from"./VCheckboxBtn-97850a23.js";import{V as ge}from"./VMain-603c68fa.js";import"./ssrBoot-10aa12ef.js";const he=z({...D(),...$(Ve(),["inline"])},"VCheckbox"),ye=H()({name:"VCheckbox",inheritAttrs:!1,props:he(),emits:{"update:modelValue":r=>!0,"update:focused":r=>!0},setup(r,h){let{attrs:p,slots:f}=h;const d=K(r,"modelValue"),{isFocused:b,focus:s,blur:n}=M(r),_=W(),x=X(()=>r.id||`checkbox-${_}`);return Z(()=>{const[u,t]=G(p),[l,m]=I.filterProps(r),[V,N]=E.filterProps(r);return e(I,U({class:["v-checkbox",r.class]},u,l,{modelValue:d.value,"onUpdate:modelValue":w=>d.value=w,id:x.value,focused:b.value,style:r.style}),{...f,default:w=>{let{id:S,messagesId:A,isDisabled:B,isReadonly:q}=w;return e(E,U(V,{id:S.value,"aria-describedby":A.value,disabled:B.value,readonly:q.value},t,{modelValue:d.value,"onUpdate:modelValue":j=>d.value=j,onFocus:s,onBlur:n}),f)}})}),{}}}),ve=P("div",{class:"text-body-2 font-weight-light mb-n1"},"Welcome to",-1),be=P("h1",{class:"text-h2 font-weight-bold"},"Vuetify",-1),_e={class:"r-bg-grey-lighten-4 bg-black py-2 px-5"},Re=J({__name:"RegistrationView",setup(r){const h=O();Q();const p=Y(),f=ee(),d=C(),b=C([]),s=ae({firstName:null,lastName:null,email:null,phone:null,password:null,passwordConfirmation:null,userType:"SHIPPER",agreeTerms:!1}),n=C(!1),_=le();async function x(){try{const{valid:u}=await d.value.validate();if(!u)throw new Error("Form is not valid");n.value=!0;const t=new FormData;t.append("firstName",s.firstName),t.append("lastName",s.lastName),t.append("email",s.email),t.append("phone",s.phone),t.append("plainPassword",s.password),t.append("agreeTerms",!1),t.append("userType",s.userType);const{data:{status:l,message:m}}=await _.post("/api/register",t);if(h.hasTargetPath){const V=h.targetRoute;f.push(V)}else f.replace({name:"home"});p({text:m})}catch(u){if("response"in u){const{data:{status:t,message:l,errors:m,detail:V}}=u.response;if(m)for(const N of m)p({text:N.message});else p({text:V??l})}}finally{n.value=!1}}return(u,t)=>(k(),R(ge,null,{default:a(()=>[(k(!0),te(oe,null,se(b.value,(l,m)=>(k(),R(me,{value:!0},{default:a(()=>[i(ce(l.message),1)]),_:2},1024))),256)),e(T,{"min-height":"100vh",color:"black",theme:"dark",class:"rounded-0","r-color":"grey-lighten-4",flat:""},{default:a(()=>[e(g,{justify:"center",align:"center",class:"fill-height",style:{"min-height":"calc(100vh - 20px)"}},{default:a(()=>[e(T,{width:"1200px",flat:""},{default:a(()=>[e(y,null,{default:a(()=>[e(g,null,{default:a(()=>[e(o,{md:4},{default:a(()=>[e(pe,{class:"fill-height"},{default:a(()=>[e(re,{class:"align-center text-center fill-height"},{default:a(()=>[e(de,{height:"300",src:L}),ve,be]),_:1})]),_:1})]),_:1}),e(o,{md:8},{default:a(()=>[e(fe,{ref_key:"form",ref:d},{default:a(()=>[e(T,{"r-color":"green",flat:""},{default:a(()=>[e(ne,{class:""},{default:a(()=>[i(" Create new Account ")]),_:1}),e(ue,{class:""},{default:a(()=>[i(" Create new account and start shipping Items ")]),_:1}),e(y,null,{default:a(()=>[e(g,{"r-justify":"start"},{default:a(()=>[e(o,{cols:12,sm:6},{default:a(()=>[e(c,{modelValue:s.firstName,"onUpdate:modelValue":t[0]||(t[0]=l=>s.firstName=l),label:"First Name",placeholder:"Enter your first name",variant:"outlined",density:"compact",rules:[l=>!!l||"This field is requried"]},null,8,["modelValue","rules"])]),_:1}),e(o,{cols:12,sm:6},{default:a(()=>[e(c,{modelValue:s.lastName,"onUpdate:modelValue":t[1]||(t[1]=l=>s.lastName=l),label:"Last Name",placeholder:"Enter your last name",variant:"outlined",density:"compact",rules:[l=>!!l||"This field is requried"]},null,8,["modelValue","rules"])]),_:1}),e(o,{cols:12,sm:6},{default:a(()=>[e(c,{modelValue:s.email,"onUpdate:modelValue":t[2]||(t[2]=l=>s.email=l),label:"Email Address",placeholder:"Enter your email Address",variant:"outlined",density:"compact",type:"email",rules:[l=>!!l||"This field is requried"]},null,8,["modelValue","rules"])]),_:1}),e(o,{cols:12,sm:6},{default:a(()=>[e(c,{modelValue:s.phone,"onUpdate:modelValue":t[3]||(t[3]=l=>s.phone=l),label:"Phone Number",placeholder:"Enter your phone number",variant:"outlined",density:"compact",type:"tel",rules:[l=>!!l||"This field is requried"]},null,8,["modelValue","rules"])]),_:1}),e(o,{cols:12,sm:6},{default:a(()=>[e(c,{modelValue:s.password,"onUpdate:modelValue":t[4]||(t[4]=l=>s.password=l),label:"Password",placeholder:"Choose password",variant:"outlined",density:"compact",type:"password",rules:[l=>!!l||"This field is requried"]},null,8,["modelValue","rules"])]),_:1}),e(o,{cols:12,sm:6},{default:a(()=>[e(c,{modelValue:s.passwordConfirmation,"onUpdate:modelValue":t[5]||(t[5]=l=>s.passwordConfirmation=l),label:"Confirm Password",placeholder:"Choose password",variant:"outlined",density:"compact",type:"password",rules:[l=>!!l||"This field is requried"]},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),e(y,{class:"pt-0"},{default:a(()=>[P("div",_e,[e(g,{justify:"space-around",class:"py-0 pt-3"},{default:a(()=>[e(o,{cols:12,md:4},{default:a(()=>[e(ie,{modelValue:s.userType,"onUpdate:modelValue":t[6]||(t[6]=l=>s.userType=l),mandatory:"","r-divided":""},{default:a(()=>[e(v,{value:"SHIPPER",color:"primary"},{default:a(()=>[i(" Shipper ")]),_:1}),e(v,{value:"TRUCKER",color:"primary"},{default:a(()=>[i(" Trucker ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(o,{cols:12,md:8},{default:a(()=>[e(ye,{modelValue:s.agreeTerms,"onUpdate:modelValue":t[7]||(t[7]=l=>s.agreeTerms=l),label:"I have read and agree to the terms of service"},null,8,["modelValue"])]),_:1})]),_:1})])]),_:1})]),_:1}),e(y,{class:"pa-0"},{default:a(()=>[e(g,{class:"d-flex align-center justify-center"},{default:a(()=>[e(o,{cols:"auto"},{default:a(()=>[e(v,{onClick:t[8]||(t[8]=()=>x()),color:"primary","min-width":"228",size:"x-large",variant:"flat",loading:n.value,disabled:n.value},{default:a(()=>[e(F,{icon:"mdi-speedometer",size:"large",start:""}),i(" Register ")]),_:1},8,["loading","disabled"])]),_:1}),e(o,{cols:"auto"},{default:a(()=>[e(v,{to:{name:"account.login"},"min-width":"164",color:"primary",size:"x-large",variant:"outlined",disabled:n.value},{default:a(()=>[e(F,{icon:"mdi-login",size:"large",start:""}),i(" Login Instead ")]),_:1},8,["to","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}});export{Re as default};
