import{T,am as L,an as S,a2 as R,ao as z,r as i,U as B,W as I,X as a,j as e,$ as m,a0 as g,ac as A,K as E,ad as F,Z as n,ae as H,ar as _,V as v,x as N,au as P,_ as x,a1 as b}from"./index-792b7300.js";import{L as U}from"./logo-16664350.js";import{V as y}from"./VRow-0d652b6c.js";import{V as j}from"./VForm-b32d5c63.js";import{V as w}from"./VCol-6b418aff.js";import{V as q}from"./VContainer-e9b861e8.js";import{V as W}from"./VHover-a8a30ca1.js";import{V as $}from"./VMain-603c68fa.js";import"./ssrBoot-10aa12ef.js";const K=b("h1",{class:"text-h2 font-weight-bold"},"Vuetify",-1),M=b("div",{class:"text-body-2 font-weight-light mb-n1"},"Welcome back!",-1),te=T({__name:"LoginView",setup(X){L();const o=S(),d=R(),p=z(),V=i(),u=i(),c=i(),r=i(!1);async function k(){try{const{valid:l}=await V.value.validate();if(!l)throw new Error("Form is not valid");r.value=!0;const s={username:u.value,password:c.value};if(await d.login(s),o({text:"Login successful"}),d.hasTargetPath){const t=d.targetRoute;p.push(t)}else p.replace({name:"home"})}catch(l){if("response"in l){const{data:{status:s,message:t,detail:f,errors:h}}=l.response;if(h)for(const C of h)o({text:C.message});else o({text:t??f})}else{const s=l.message;o({text:`Login failed: ${s}`})}}finally{r.value=!1}}return(l,s)=>(B(),I($,null,{default:a(()=>[e(m,{"min-height":"100vh",color:"black",theme:"dark",class:"rounded-0",flat:""},{default:a(()=>[e(y,{justify:"center",align:"center",class:"fill-height",style:{"min-height":"calc(100vh - 20px)"}},{default:a(()=>[e(j,{ref_key:"form",ref:V},{default:a(()=>[e(m,{width:"800px",flat:""},{default:a(()=>[e(g,null,{default:a(()=>[e(y,null,{default:a(()=>[e(w,{cols:12,md:6},{default:a(()=>[e(q,{class:"fill-height"},{default:a(()=>[e(A,{class:"align-center text-center fill-height"},{default:a(()=>[e(E,{height:"300",src:U}),K,M]),_:1})]),_:1})]),_:1}),e(w,{cols:12,md:6},{default:a(()=>[e(m,{"r-color":"green",flat:""},{default:a(()=>[e(F,{class:""},{default:a(()=>[n(" Login ")]),_:1}),e(H,{class:""},{default:a(()=>[n(" Sign in to access your account ")]),_:1}),e(g,null,{default:a(()=>[e(_,{modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=t=>u.value=t),label:"Email Address",placeholder:"Enter your email Address",variant:"outlined",density:"compact",type:"email",rules:[t=>!!t||"This field is required"]},null,8,["modelValue","rules"]),e(_,{modelValue:c.value,"onUpdate:modelValue":s[1]||(s[1]=t=>c.value=t),label:"Password",placeholder:"Choose password",variant:"outlined",density:"compact",type:"password",rules:[t=>!!t||"This field is required"]},null,8,["modelValue","rules"])]),_:1})]),_:1}),e(g,{class:"py-0"},{default:a(()=>[e(W,null,{default:a(({isHovering:t,props:f})=>[e(v,N({onClick:s[2]||(s[2]=()=>k()),color:"primary",size:"x-large",variant:"flat",loading:r.value},f,{block:""}),{default:a(()=>[e(P,{name:"fade"},{default:a(()=>[e(x,{"r-v-if":"isHovering",icon:"mdi-login",size:"large"})]),_:1}),n(" Login ")]),_:2},1040,["loading"])]),_:1}),e(v,{to:{name:"account.register"},color:"primary",size:"x-large",class:"mt-2",variant:"outlined",disabled:r.value,block:""},{default:a(()=>[e(x,{icon:"mdi-speedometer",size:"large"}),n(" Register Instead ")]),_:1},8,["to","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1}))}});export{te as default};
