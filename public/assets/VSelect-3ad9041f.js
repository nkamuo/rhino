import{p as N,m as re,c as Y,N as ce,w as X,l as Z,j as i,F as K,x as E,s as J,h as x,r as H,P as ge,O as ye,bC as Ve,S as ee,b0 as Se,bR as we,b8 as be,aW as ke,bJ as xe,z as j,t as Pe,R as Ce,bW as Ie,I as Re,bS as Te,ah as De,aE as Be,aF as Fe,bX as _e,e as Le,q as le,aH as Ae,ar as te,_ as ae,v as Me,Z as Oe,aJ as Ee,aK as ne,aL as oe,aM as He,aN as Ke}from"./index-792b7300.js";import{m as Ne,u as Ue,V as ze}from"./VList-3c5cf402.js";import{V as qe}from"./VMenu-d6a0e177.js";import{V as ue}from"./VListItem-69e40751.js";import{V as $e}from"./VCheckboxBtn-97850a23.js";import{V as We}from"./VChip-bcb06941.js";const je=N({renderless:Boolean,...re()},"VVirtualScrollItem"),Je=Y()({name:"VVirtualScrollItem",inheritAttrs:!1,props:je(),emits:{"update:height":e=>!0},setup(e,f){let{attrs:t,emit:m,slots:r}=f;const{resizeRef:c,contentRect:p}=ce(void 0,"border");X(()=>{var a;return(a=p.value)==null?void 0:a.height},a=>{a!=null&&m("update:height",a)}),Z(()=>{var a,n;return e.renderless?i(K,null,[(a=r.default)==null?void 0:a.call(r,{itemRef:c})]):i("div",E({ref:c,class:["v-virtual-scroll__item",e.class],style:e.style},t),[(n=r.default)==null?void 0:n.call(r)])})}}),ie=-1,se=1,Xe=N({itemHeight:{type:[Number,String],default:48}},"virtual");function Ye(e,f,t){const m=J(0),r=J(e.itemHeight),c=x({get:()=>parseInt(r.value??0,10),set(d){r.value=d}}),p=H(),{resizeRef:a,contentRect:n}=ce();ge(()=>{a.value=p.value});const S=ye(),P=new Map;let b=Array.from({length:f.value.length});const o=x(()=>{const d=(!n.value||p.value===document.documentElement?S.height.value:n.value.height)-((t==null?void 0:t.value)??0);return Math.ceil(d/c.value*1.7+1)});function h(d,v){c.value=Math.max(c.value,v),b[d]=v,P.set(f.value[d],v)}function V(d){return b.slice(0,d).reduce((v,w)=>v+(w||c.value),0)}function B(d){const v=f.value.length;let w=0,D=0;for(;D<d&&w<v;)D+=b[w++]||c.value;return w-1}let R=0;function U(){if(!p.value||!n.value)return;const d=n.value.height-56,v=p.value.scrollTop,w=v<R?ie:se,D=B(v+d/2),q=Math.round(o.value/3),_=D-q,$=m.value+q*2-1;w===ie&&D<=$?m.value=ee(_,0,f.value.length):w===se&&D>=$&&(m.value=ee(_,0,f.value.length-o.value)),R=v}function M(d){if(!p.value)return;const v=V(d);p.value.scrollTop=v}const O=x(()=>Math.min(f.value.length,m.value+o.value)),A=x(()=>f.value.slice(m.value,O.value).map((d,v)=>({raw:d,index:v+m.value}))),z=x(()=>V(m.value)),F=x(()=>V(f.value.length)-V(O.value));return X(()=>f.value.length,()=>{b=Ve(f.value.length).map(()=>c.value),P.forEach((d,v)=>{const w=f.value.indexOf(v);w===-1?P.delete(v):b[w]=d})}),{containerRef:p,computedItems:A,itemHeight:c,paddingTop:z,paddingBottom:F,scrollToIndex:M,handleScroll:U,handleItemResize:h}}const Ze=N({items:{type:Array,default:()=>[]},renderless:Boolean,...Xe(),...re(),...Se()},"VVirtualScroll"),Ge=Y()({name:"VVirtualScroll",props:Ze(),setup(e,f){let{slots:t}=f;const m=we("VVirtualScroll"),{dimensionStyles:r}=be(e),{containerRef:c,handleScroll:p,handleItemResize:a,scrollToIndex:n,paddingTop:S,paddingBottom:P,computedItems:b}=Ye(e,ke(e,"items"));return xe(()=>e.renderless,()=>{Pe(()=>{var o;c.value=Ce(m.vnode.el,!0),(o=c.value)==null||o.addEventListener("scroll",p)}),Ie(()=>{var o;(o=c.value)==null||o.removeEventListener("scroll",p)})}),Z(()=>{const o=b.value.map(h=>i(Je,{key:h.index,renderless:e.renderless,"onUpdate:height":V=>a(h.index,V)},{default:V=>{var B;return(B=t.default)==null?void 0:B.call(t,{item:h.raw,index:h.index,...V})}}));return e.renderless?i(K,null,[i("div",{class:"v-virtual-scroll__spacer",style:{paddingTop:j(S.value)}},null),o,i("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:j(P.value)}},null)]):i("div",{ref:c,class:["v-virtual-scroll",e.class],onScroll:p,style:[r.value,e.style]},[i("div",{class:"v-virtual-scroll__container",style:{paddingTop:j(S.value),paddingBottom:j(P.value)}},[o])])}),{scrollToIndex:n}}});function Qe(e,f){const t=J(!1);let m;function r(a){cancelAnimationFrame(m),t.value=!0,m=requestAnimationFrame(()=>{m=requestAnimationFrame(()=>{t.value=!1})})}async function c(){await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>{if(t.value){const n=X(t,()=>{n(),a()})}else a()})}async function p(a){var P,b;if(a.key==="Tab"&&((P=f.value)==null||P.focus()),!["PageDown","PageUp","Home","End"].includes(a.key))return;const n=(b=e.value)==null?void 0:b.$el;if(!n)return;(a.key==="Home"||a.key==="End")&&n.scrollTo({top:a.key==="Home"?0:n.scrollHeight,behavior:"smooth"}),await c();const S=n.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(a.key==="PageDown"||a.key==="Home"){const o=n.getBoundingClientRect().top;for(const h of S)if(h.getBoundingClientRect().top>=o){h.focus();break}}else{const o=n.getBoundingClientRect().bottom;for(const h of[...S].reverse())if(h.getBoundingClientRect().bottom<=o){h.focus();break}}}return{onListScroll:r,onListKeydown:p}}const el=N({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:Re,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:Te},itemColor:String,...Ne({itemChildren:!1})},"Select"),ll=N({...el(),...De(Be({modelValue:null,role:"button"}),["validationValue","dirty","appendInnerIcon"]),...Fe({transition:{component:_e}})},"VSelect"),sl=Y()({name:"VSelect",props:ll(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,f){let{slots:t}=f;const{t:m}=Le(),r=H(),c=H(),p=H(),a=le(e,"menu"),n=x({get:()=>a.value,set:l=>{var u;a.value&&!l&&((u=c.value)!=null&&u.Î¨openChildren)||(a.value=l)}}),{items:S,transformIn:P,transformOut:b}=Ue(e),o=le(e,"modelValue",[],l=>P(l===null?[null]:Ke(l)),l=>{const u=b(l);return e.multiple?u:u[0]??null}),h=Ae(),V=x(()=>o.value.map(l=>S.value.find(u=>{const g=ne(u.raw,e.itemValue),L=ne(l.raw,e.itemValue);return g===void 0||L===void 0?!1:e.returnObject?e.valueComparator(g,L):e.valueComparator(u.value,l.value)})||l)),B=x(()=>V.value.map(l=>l.props.value)),R=J(!1),U=x(()=>n.value?e.closeText:e.openText);let M="",O;const A=x(()=>e.hideSelected?S.value.filter(l=>!V.value.some(u=>u===l)):S.value),z=x(()=>e.hideNoData&&!S.value.length||e.readonly||(h==null?void 0:h.isReadonly.value)),F=H(),{onListScroll:d,onListKeydown:v}=Qe(F,r);function w(l){e.openOnClear&&(n.value=!0)}function D(){z.value||(n.value=!n.value)}function q(l){var s,k;if(!l.key||e.readonly||h!=null&&h.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(l.key)&&l.preventDefault(),["Enter","ArrowDown"," "].includes(l.key)&&(n.value=!0),["Escape","Tab"].includes(l.key)&&(n.value=!1),l.key==="Home"?(s=F.value)==null||s.focus("first"):l.key==="End"&&((k=F.value)==null||k.focus("last"));const u=1e3;function g(y){const T=y.key.length===1,C=!y.ctrlKey&&!y.metaKey&&!y.altKey;return T&&C}if(e.multiple||!g(l))return;const L=performance.now();L-O>u&&(M=""),M+=l.key.toLowerCase(),O=L;const W=S.value.find(y=>y.title.toLowerCase().startsWith(M));W!==void 0&&(o.value=[W])}function _(l){if(e.multiple){const u=B.value.findIndex(g=>e.valueComparator(g,l.value));if(u===-1)o.value=[...o.value,l];else{const g=[...o.value];g.splice(u,1),o.value=g}}else o.value=[l],n.value=!1}function $(l){var u;(u=F.value)!=null&&u.$el.contains(l.relatedTarget)||(n.value=!1)}function de(){var l;R.value&&((l=r.value)==null||l.focus())}function ve(l){R.value=!0}function fe(l){if(l==null)o.value=[];else if(oe(r.value,":autofill")||oe(r.value,":-webkit-autofill")){const u=S.value.find(g=>g.title===l);u&&_(u)}else r.value&&(r.value.value="")}return X(n,()=>{if(!e.hideSelected&&n.value&&V.value.length){const l=A.value.findIndex(u=>V.value.some(g=>u.value===g.value));He&&window.requestAnimationFrame(()=>{var u;l>=0&&((u=p.value)==null||u.scrollToIndex(l))})}}),Z(()=>{const l=!!(e.chips||t.chip),u=!!(!e.hideNoData||A.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),g=o.value.length>0,[L]=te.filterProps(e),W=g||!R.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return i(te,E({ref:r},L,{modelValue:o.value.map(s=>s.props.value).join(", "),"onUpdate:modelValue":fe,focused:R.value,"onUpdate:focused":s=>R.value=s,validationValue:o.externalValue,dirty:g,class:["v-select",{"v-select--active-menu":n.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":o.value.length,"v-select--selection-slot":!!t.selection},e.class],style:e.style,inputmode:"none",placeholder:W,"onClick:clear":w,"onMousedown:control":D,onBlur:$,onKeydown:q,"aria-label":m(U.value),title:m(U.value)}),{...t,default:()=>i(K,null,[i(qe,E({ref:c,modelValue:n.value,"onUpdate:modelValue":s=>n.value=s,activator:"parent",contentClass:"v-select__content",disabled:z.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:de},e.menuProps),{default:()=>[u&&i(ze,{ref:F,selected:B.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:s=>s.preventDefault(),onKeydown:v,onFocusin:ve,onScrollPassive:d,tabindex:"-1",color:e.itemColor??e.color},{default:()=>{var s,k,y;return[(s=t["prepend-item"])==null?void 0:s.call(t),!A.value.length&&!e.hideNoData&&(((k=t["no-data"])==null?void 0:k.call(t))??i(ue,{title:m(e.noDataText)},null)),i(Ge,{ref:p,renderless:!0,items:A.value},{default:T=>{var Q;let{item:C,index:I,itemRef:me}=T;const G=E(C.props,{ref:me,key:I,onClick:()=>_(C)});return((Q=t.item)==null?void 0:Q.call(t,{item:C,index:I,props:G}))??i(ue,G,{prepend:he=>{let{isSelected:pe}=he;return i(K,null,[e.multiple&&!e.hideSelected?i($e,{key:C.value,modelValue:pe,ripple:!1,tabindex:"-1"},null):void 0,C.props.prependIcon&&i(ae,{icon:C.props.prependIcon},null)])}})}}),(y=t["append-item"])==null?void 0:y.call(t)]}})]}),V.value.map((s,k)=>{var C;function y(I){I.stopPropagation(),I.preventDefault(),_(s)}const T={"onClick:close":y,onMousedown(I){I.preventDefault(),I.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return i("div",{key:s.value,class:"v-select__selection"},[l?t.chip?i(Me,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:s.title}}},{default:()=>{var I;return[(I=t.chip)==null?void 0:I.call(t,{item:s,index:k,props:T})]}}):i(We,E({key:"chip",closable:e.closableChips,size:"small",text:s.title},T),null):((C=t.selection)==null?void 0:C.call(t,{item:s,index:k}))??i("span",{class:"v-select__selection-text"},[s.title,e.multiple&&k<V.value.length-1&&i("span",{class:"v-select__selection-comma"},[Oe(",")])])])})]),"append-inner":function(){var T;for(var s=arguments.length,k=new Array(s),y=0;y<s;y++)k[y]=arguments[y];return i(K,null,[(T=t["append-inner"])==null?void 0:T.call(t,...k),e.menuIcon?i(ae,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),Ee({isFocused:R,menu:n,select:_},r)}});export{Ge as V,sl as a,el as m,Qe as u};
