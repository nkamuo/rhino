import{_ as b}from"./ProductForm.vue_vue_type_script_setup_true_lang-521e3f58.js";import{a as P,u as w}from"./product-5c60e84b.js";import{T as S,ao as j,am as N,an as T,r as i,t as z,U as p,W as f,X as e,j as t,a0 as g,Z as V,aa as B,a7 as R,$ as u,aC as U,ac as A,aA as E,ad as I,_ as M,a1 as $}from"./index-792b7300.js";import{V as q}from"./VAlert-b239340a.js";import{V as D}from"./VRow-0d652b6c.js";import{V as L}from"./VContainer-e9b861e8.js";import{V as O}from"./VLayout-0dba6cea.js";import{V as W}from"./VMain-603c68fa.js";import"./product-3cfcfa33.js";import"./VCol-6b418aff.js";import"./VSelect-3ad9041f.js";import"./VList-3c5cf402.js";import"./VListItem-69e40751.js";import"./ssrBoot-10aa12ef.js";import"./VDivider-130fdbf6.js";import"./VMenu-d6a0e177.js";import"./VCheckboxBtn-97850a23.js";import"./VChip-bcb06941.js";import"./VForm-b32d5c63.js";import"./connection-13f4ed86.js";const X=$("span",{class:"mx-5 mt-2 text-h5 text-lg-h4"},"Update Package",-1),pe=S({__name:"EditProductPage",props:{id:{type:String,required:!0}},emits:["update:open"],setup(v,{emit:Z}){const y=v,c=j();N();const _=T(),n=i(!1),o=i(!1),m=i(),s=i(),{id:d}=y;z(()=>x());async function x(){try{o.value=!0,m.value=await P({id:d})}catch(l){s.value=l.message}finally{o.value=!1}}async function h(l){try{n.value=!0,await w({id:d,input:l}),c.back()}catch(a){const r=a.message;_({text:r})}finally{n.value=!1}}function C(){s.value=void 0}function k(){c.back()}return(l,a)=>(p(),f(W,{scrollable:""},{default:e(()=>[t(u,{"min-height":"calc(100vh - 70px)",color:"grey-lighten-4",class:"rounded-0",flat:""},{default:e(()=>[s.value?(p(),f(g,{key:0},{default:e(()=>[t(q,{type:"error","onClick:close":a[0]||(a[0]=()=>C())},{default:e(()=>[V(B(s.value),1)]),_:1})]),_:1})):R("",!0),t(D,{justify:"center",align:"center",class:"fill-height",style:{"min-height":"calc(100vh - 70px)"}},{default:e(()=>[t(u,{width:"600px","min-height":"400px",flat:""},{default:e(()=>[t(U,{modelValue:o.value,"onUpdate:modelValue":a[1]||(a[1]=r=>o.value=r),class:"align-center justify-center",contained:""},{default:e(()=>[t(L,{class:"fill-height"},{default:e(()=>[t(A,{class:"align-center text-center fill-height"},{default:e(()=>[t(E,{size:100,indeterminate:""})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(g,{class:"pa-1"},{default:e(()=>[t(b,{product:m.value,onSubmit:a[2]||(a[2]=r=>h(r)),onCancel:a[3]||(a[3]=()=>k()),submiting:n.value},{title:e(()=>[t(I,null,{default:e(()=>[t(O,{justify:"space-around"},{default:e(()=>[t(M,{"r-size":"x-large",style:{"font-size":"50px"}},{default:e(()=>[V("mdi-plus-circle")]),_:1}),X]),_:1})]),_:1})]),_:1},8,["product","submiting"])]),_:1})]),_:1}),t(u,{flat:""})]),_:1})]),_:1})]),_:1}))}});export{pe as default};
