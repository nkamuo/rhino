import{b as E,a as w}from"./VToolbar-0ca02519.js";import{p as T,r as I,s as d,h as s,S as L,w as S,t as N,Q as q,bq as C,c as k,q as H,bJ as M,bw as U,aW as y,l as x,j as A,x as z,P as F,m as j,b5 as D,bx as J}from"./index-792b7300.js";import{u as O}from"./ssrBoot-10aa12ef.js";const Q=T({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function W(e){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:r}=m;let n=0;const l=I(null),a=d(0),i=d(0),c=d(0),h=d(!1),f=d(!1),u=s(()=>Number(e.scrollThreshold)),V=s(()=>L((u.value-a.value)/u.value||0)),v=()=>{const o=l.value;!o||r&&!r.value||(n=a.value,a.value="window"in o?o.pageYOffset:o.scrollTop,f.value=a.value<n,c.value=Math.abs(a.value-u.value))};return S(f,()=>{i.value=i.value||a.value}),S(h,()=>{i.value=0}),N(()=>{S(()=>e.scrollTarget,o=>{var g;const p=o?document.querySelector(o):window;p&&p!==l.value&&((g=l.value)==null||g.removeEventListener("scroll",v),l.value=p,l.value.addEventListener("scroll",v,{passive:!0}))},{immediate:!0})}),q(()=>{var o;(o=l.value)==null||o.removeEventListener("scroll",v)}),r&&S(r,v,{immediate:!0}),{scrollThreshold:u,currentScroll:a,currentThreshold:c,isScrollActive:h,scrollRatio:V,isScrollingUp:f,savedScroll:i}}const Y=T({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...E(),...C(),...Q(),height:{type:[Number,String],default:64}},"VAppBar"),Z=k()({name:"VAppBar",props:Y(),emits:{"update:modelValue":e=>!0},setup(e,m){let{slots:r}=m;const n=I(),l=H(e,"modelValue"),a=s(()=>{var b;const t=new Set(((b=e.scrollBehavior)==null?void 0:b.split(" "))??[]);return{hide:t.has("hide"),inverted:t.has("inverted"),collapse:t.has("collapse"),elevate:t.has("elevate"),fadeImage:t.has("fade-image")}}),i=s(()=>{const t=a.value;return t.hide||t.inverted||t.collapse||t.elevate||t.fadeImage||!l.value}),{currentScroll:c,scrollThreshold:h,isScrollingUp:f,scrollRatio:u}=W(e,{canScroll:i}),V=s(()=>e.collapse||a.value.collapse&&(a.value.inverted?u.value>0:u.value===0)),v=s(()=>e.flat||a.value.elevate&&(a.value.inverted?c.value>0:c.value===0)),o=s(()=>a.value.fadeImage?a.value.inverted?1-u.value:u.value:void 0),p=s(()=>{var B,P;if(a.value.hide&&a.value.inverted)return 0;const t=((B=n.value)==null?void 0:B.contentHeight)??0,b=((P=n.value)==null?void 0:P.extensionHeight)??0;return t+b});M(s(()=>!!e.scrollBehavior),()=>{F(()=>{a.value.hide?a.value.inverted?l.value=c.value>h.value:l.value=f.value||c.value<h.value:l.value=!0})});const{ssrBootStyles:g}=O(),{layoutItemStyles:R}=U({id:e.name,order:s(()=>parseInt(e.order,10)),position:y(e,"location"),layoutSize:p,elementSize:d(void 0),active:l,absolute:y(e,"absolute")});return x(()=>{const[t]=w.filterProps(e);return A(w,z({ref:n,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...R.value,"--v-toolbar-image-opacity":o.value,height:void 0,...g.value},e.style]},t,{collapse:V.value,flat:v.value}),r)}),{}}}),$=T({...j(),...D({variant:"text"})},"VToolbarItems"),_=k()({name:"VToolbarItems",props:$(),setup(e,m){let{slots:r}=m;return J({VBtn:{color:y(e,"color"),height:"inherit",variant:y(e,"variant")}}),x(()=>{var n;return A("div",{class:["v-toolbar-items",e.class],style:e.style},[(n=r.default)==null?void 0:n.call(r)])}),{}}});export{_ as V,Z as a};
